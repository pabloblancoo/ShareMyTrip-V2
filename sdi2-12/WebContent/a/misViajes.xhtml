<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/templates/template.xhtml">

	<ui:define name="content">
		<div class="ui-grid ui-grid-responsive">
			<div class="ui-grid-row">
				<div class="ui-grid-col-1"></div>
				<div class="ui-grid-col-10">
					<p:messages id="messages" showDetail="true" autoUpdate="true"
						closable="true" />

						<p:dataTable id="tabla" var="viajev" value="#{misViajes.viajes}"
							rowIndexVar="index" emptyMessage="#{msgs.empty}">

							<p:column>
								<p:selectBooleanCheckbox id="check" rendered="#{viajev.isCancelable() != null}" value="#{viajev.seleccionado}" />
							</p:column>
							<p:column headerText="#{msgs.listTripDeparture}">
								<h:outputText value="#{viajev.viaje.departure.city}" />
							</p:column>
							<p:column headerText="#{msgs.listTripDestination}">
								<h:outputText value="#{viajev.viaje.destination.city}" />
							</p:column>
							<p:column headerText="#{msgs.ownTripClosingDate}">
								<h:outputText value="#{viajev.viaje.closingDate}">
									<f:convertDateTime locale="#{settings.locale}" type="date"
										dateStyle="full" />
								</h:outputText>
							</p:column>
							<p:column headerText="#{msgs.ownTripState}">
								<h:outputText value="#{viajev.relacion}" />
							</p:column>
							<p:column headerText="#{msgs.ownTripOptions}">
								<p:commandLink id="cancelarViaje" value="#{viajev.isCancelable()}"
									rendered="#{viajev.isCancelable() != null}" type="submit"
									inmediate="true" update="tabla"
									actionListener="#{misViajes.cancelar(viajev)}" />
							</p:column>

						</p:dataTable>

					<p:commandButton id="botonCancelar"
						value="Cancelar seleccionados" type="submit"
						update="tabla" actionListener="#{misViajes.cancelacionMultiple()}" />
				</div>
			</div>
		</div>
	</ui:define>

</ui:composition>

